---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';

const title = 'Buscador de Perfil de Roblox (2026) ‚Äî Consulta Cualquier Usuario';
const description = 'Busca y consulta cualquier perfil de Roblox. Encuentra el nombre de usuario, avatar, fecha de creaci√≥n, amigos, seguidores y m√°s informaci√≥n p√∫blica de cualquier jugador.';

const faqEntries = [
  { q: '¬øC√≥mo buscar un perfil en Roblox?', a: 'Escribe el nombre de usuario exacto del jugador en el buscador y presiona Buscar. Te mostraremos su avatar, nombre, ID, fecha de creaci√≥n, amigos, seguidores y m√°s informaci√≥n p√∫blica del perfil.' },
  { q: '¬øQu√© informaci√≥n puedo ver de un usuario de Roblox?', a: 'Puedes ver el avatar, nombre de usuario, display name, ID de usuario, fecha de creaci√≥n de la cuenta, descripci√≥n o bio, n√∫mero de amigos, seguidores y seguidos, y la antig√ºedad de la cuenta.' },
  { q: '¬øEs seguro buscar perfiles de Roblox?', a: 'S√≠. Nuestro buscador solo consulta la API p√∫blica oficial de Roblox. No recopilamos contrase√±as ni datos privados. Solo mostramos informaci√≥n que cualquier persona puede ver al visitar el perfil en roblox.com.' },
  { q: '¬øPuedo ver perfiles privados?', a: 'Nuestro buscador muestra la informaci√≥n p√∫blica del perfil. Si un usuario tiene su perfil configurado como privado, algunos datos como la descripci√≥n pueden no estar disponibles.' },
  { q: '¬øCada cu√°nto se actualizan los datos?', a: 'Los datos se consultan en tiempo real desde los servidores de Roblox cada vez que realizas una b√∫squeda. Los resultados se cachean durante 5 minutos para una carga m√°s r√°pida.' },
];

const faqSchema = {
  '@context': 'https://schema.org',
  '@type': 'FAQPage',
  mainEntity: faqEntries.map(e => ({
    '@type': 'Question',
    name: e.q,
    acceptedAnswer: { '@type': 'Answer', text: e.a },
  })),
};
---

<Layout title={title} description={description}>
  <script slot="head" type="application/ld+json" set:html={JSON.stringify(faqSchema)} />
  <div class="profile-page">
  <Header />

  <main class="main">
    <div class="page-wrap">

      <!-- Breadcrumbs -->
      <nav class="breadcrumbs">
        <a href="/">Inicio</a> <span class="sep">‚Ä∫</span>
        <span>Herramientas</span> <span class="sep">‚Ä∫</span>
        <span>Buscador de Perfil Roblox</span>
      </nav>

      <!-- Hero -->
      <h1 class="page-title">Buscador de Perfil de Roblox<br/><span class="page-title__sub">Consulta Cualquier Usuario</span></h1>
      <p class="intro">Escribe el nombre de usuario de cualquier jugador de Roblox para ver su perfil completo: avatar, fecha de creaci√≥n, amigos, seguidores y m√°s.</p>

      <!-- Search -->
      <div class="search-section">
        <div class="search-row">
          <input type="text" id="q" class="search-input" placeholder="Nombre de usuario (ej: Roblox, Builderman)" autocomplete="off" maxlength="20" />
          <button id="search-btn" class="search-btn">Buscar</button>
        </div>
        <p class="search-error" id="error-msg"></p>
      </div>

      <!-- Loader -->
      <div class="loader" id="loader">
        <div class="spinner"></div>
        <span>Buscando perfil...</span>
      </div>

      <!-- Result card -->
      <div class="result" id="result">
        <div class="result__header">
          <img id="r-avatar" class="result__avatar" src="" alt="" width="150" height="150" />
          <div class="result__info">
            <div class="result__names">
              <span class="result__display" id="r-display"></span>
              <span class="result__user" id="r-user"></span>
            </div>
            <span class="result__uid" id="r-id"></span>
            <div class="result__badges">
              <span class="badge badge--age" id="r-badge-age"></span>
              <span class="badge badge--verified" id="r-badge-verified">Verificado</span>
              <span class="badge badge--banned" id="r-badge-banned">Baneado</span>
            </div>
          </div>
        </div>

        <p class="result__bio" id="r-bio"></p>

        <div class="result__stats">
          <div class="stat-box">
            <span class="stat-box__val" id="r-friends">0</span>
            <span class="stat-box__label">Amigos</span>
          </div>
          <div class="stat-box">
            <span class="stat-box__val" id="r-followers">0</span>
            <span class="stat-box__label">Seguidores</span>
          </div>
          <div class="stat-box">
            <span class="stat-box__val" id="r-following">0</span>
            <span class="stat-box__label">Siguiendo</span>
          </div>
        </div>

        <div class="result__meta">
          <span class="meta-item" id="r-created"></span>
        </div>

        <a id="r-link" class="result__cta" href="" target="_blank" rel="noopener">Ver perfil en Roblox ‚Üó</a>
      </div>

      <!-- SEO content -->
      <section class="seo">
        <h2 class="seo__h2">¬øC√≥mo buscar un perfil en Roblox?</h2>
        <p>Usar nuestro buscador de perfiles de Roblox es muy sencillo. Solo tienes que escribir el <strong>nombre de usuario exacto</strong> del jugador que quieras consultar en el campo de b√∫squeda y hacer clic en "Buscar".</p>
        <p>El sistema consultar√° la API oficial de Roblox y te mostrar√° toda la informaci√≥n p√∫blica del perfil: avatar, nombre de display, ID de usuario, fecha de creaci√≥n de la cuenta, biograf√≠a, n√∫mero de amigos, seguidores y seguidos.</p>
        <p>Si no conoces el nombre exacto, puedes escribir una parte y el buscador intentar√° encontrar la coincidencia m√°s cercana. Los nombres de usuario en Roblox pueden contener <strong>letras, n√∫meros y guiones bajos</strong> (m√°ximo 20 caracteres).</p>
      </section>

      <section class="seo">
        <h2 class="seo__h2">¬øQu√© informaci√≥n puedo ver de un usuario de Roblox?</h2>
        <p>Nuestro buscador muestra la siguiente informaci√≥n p√∫blica de cualquier perfil de Roblox:</p>
        <div class="info-grid">
          <div class="info-item">
            <span class="info-item__icon">üñºÔ∏è</span>
            <div>
              <strong>Avatar</strong>
              <p>La imagen de perfil actual del jugador en alta resoluci√≥n.</p>
            </div>
          </div>
          <div class="info-item">
            <span class="info-item__icon">üë§</span>
            <div>
              <strong>Nombre y Display Name</strong>
              <p>El nombre de usuario √∫nico y el nombre para mostrar elegido por el jugador.</p>
            </div>
          </div>
          <div class="info-item">
            <span class="info-item__icon">üî¢</span>
            <div>
              <strong>ID de Usuario</strong>
              <p>El identificador num√©rico √∫nico asignado a cada cuenta de Roblox.</p>
            </div>
          </div>
          <div class="info-item">
            <span class="info-item__icon">üìÖ</span>
            <div>
              <strong>Fecha de Creaci√≥n</strong>
              <p>Cu√°ndo se cre√≥ la cuenta, con la antig√ºedad calculada en a√±os.</p>
            </div>
          </div>
          <div class="info-item">
            <span class="info-item__icon">üë•</span>
            <div>
              <strong>Estad√≠sticas Sociales</strong>
              <p>N√∫mero de amigos, seguidores y cuentas que sigue el usuario.</p>
            </div>
          </div>
          <div class="info-item">
            <span class="info-item__icon">üìù</span>
            <div>
              <strong>Biograf√≠a</strong>
              <p>La descripci√≥n o bio que el jugador ha escrito en su perfil.</p>
            </div>
          </div>
        </div>
      </section>

      <section class="seo">
        <h2 class="seo__h2">¬øEs seguro buscar perfiles de Roblox?</h2>
        <p>S√≠, nuestro buscador de perfiles es <strong>completamente seguro</strong>. Solo consultamos la API p√∫blica oficial de Roblox, la misma que usa la propia plataforma para mostrar los perfiles.</p>
        <p><strong>No recopilamos</strong> contrase√±as, correos electr√≥nicos ni ning√∫n dato privado. Solo mostramos la informaci√≥n que cualquier persona puede ver al visitar directamente el perfil del jugador en roblox.com.</p>
        <p>Todos los datos se consultan en tiempo real y se almacenan en cach√© durante 5 minutos para ofrecer tiempos de carga m√°s r√°pidos en b√∫squedas repetidas.</p>
      </section>

    </div>
  </main>

  <Footer />
  </div>
</Layout>

<script>
  const MONTHS = ['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre'];

  const input = document.getElementById('q') as HTMLInputElement;
  const btn = document.getElementById('search-btn')!;
  const errEl = document.getElementById('error-msg')!;
  const loader = document.getElementById('loader')!;
  const result = document.getElementById('result')!;

  function fmtDate(iso: string): string {
    const d = new Date(iso);
    return `${d.getDate()} de ${MONTHS[d.getMonth()]} de ${d.getFullYear()}`;
  }

  function calcAge(iso: string): number {
    const c = new Date(iso);
    const n = new Date();
    let y = n.getFullYear() - c.getFullYear();
    if (n.getMonth() < c.getMonth() || (n.getMonth() === c.getMonth() && n.getDate() < c.getDate())) y--;
    return Math.max(0, y);
  }

  function fmtNum(n: number): string {
    return n.toLocaleString('es-ES');
  }

  function showErr(msg: string) {
    errEl.textContent = msg;
    errEl.style.display = 'block';
    loader.style.display = 'none';
    result.style.display = 'none';
  }

  async function search() {
    const username = input.value.trim();

    if (!username) { showErr('Escribe un nombre de usuario.'); return; }
    if (username.length > 20) { showErr('El nombre debe tener m√°ximo 20 caracteres.'); return; }

    errEl.style.display = 'none';
    result.style.display = 'none';
    loader.style.display = 'flex';
    btn.setAttribute('disabled', '');

    try {
      const res = await fetch(`/api/roblox-profile?username=${encodeURIComponent(username)}`);
      const data = await res.json();

      if (!res.ok) { showErr(data.error || 'Error al buscar el perfil.'); btn.removeAttribute('disabled'); return; }

      // Populate
      const avatar = document.getElementById('r-avatar') as HTMLImageElement;
      avatar.src = data.avatarUrl || '';
      avatar.alt = data.displayName;

      document.getElementById('r-display')!.textContent = data.displayName;
      document.getElementById('r-user')!.textContent = `@${data.name}`;
      document.getElementById('r-id')!.textContent = `ID: ${data.id}`;

      const years = calcAge(data.created);
      const badgeAge = document.getElementById('r-badge-age')!;
      badgeAge.textContent = years < 1 ? 'Cuenta de menos de 1 a√±o' : `Cuenta de ${years} a√±o${years !== 1 ? 's' : ''}`;

      document.getElementById('r-badge-verified')!.style.display = data.hasVerifiedBadge ? 'inline-flex' : 'none';
      document.getElementById('r-badge-banned')!.style.display = data.isBanned ? 'inline-flex' : 'none';

      document.getElementById('r-bio')!.textContent = data.description || 'Sin descripci√≥n.';

      document.getElementById('r-friends')!.textContent = fmtNum(data.friends);
      document.getElementById('r-followers')!.textContent = fmtNum(data.followers);
      document.getElementById('r-following')!.textContent = fmtNum(data.following);

      document.getElementById('r-created')!.textContent = `Cuenta creada el ${fmtDate(data.created)}`;

      (document.getElementById('r-link') as HTMLAnchorElement).href = `https://www.roblox.com/users/${data.id}/profile`;

      loader.style.display = 'none';
      result.style.display = 'block';
      btn.removeAttribute('disabled');
    } catch {
      showErr('Error de conexi√≥n. Int√©ntalo de nuevo.');
      btn.removeAttribute('disabled');
    }
  }

  btn.addEventListener('click', search);
  input.addEventListener('keydown', e => { if (e.key === 'Enter') search(); });
</script>

<style is:global>
  .profile-page .main{padding:0 0 3rem}
  .profile-page .page-wrap{width:100%;max-width:760px;margin:0 auto;padding:0 1rem}

  /* Breadcrumbs */
  .profile-page .breadcrumbs{font-size:.82rem;color:var(--text-dim);padding:1.25rem 0 0}
  .profile-page .breadcrumbs a{color:var(--text-dim);text-decoration:none;transition:color .2s}
  .profile-page .breadcrumbs a:hover{color:var(--accent)}
  .profile-page .sep{margin:0 .35rem;opacity:.5}

  /* Title */
  .profile-page .page-title{font-family:var(--font-display);font-size:1.5rem;font-weight:700;line-height:1.25;text-align:center;margin:2rem 0 .75rem}
  .profile-page .page-title__sub{font-size:1.1rem;color:var(--accent);font-weight:400}
  @media(min-width:640px){.profile-page .page-title{font-size:2rem}.profile-page .page-title__sub{font-size:1.3rem}}

  .profile-page .intro{text-align:center;color:var(--text-dim);font-size:.92rem;line-height:1.6;max-width:600px;margin:0 auto 2rem}

  /* Search */
  .profile-page .search-section{margin-bottom:2rem}
  .profile-page .search-row{display:flex;gap:.5rem;max-width:560px;margin:0 auto}
  .profile-page .search-input{flex:1;padding:.9rem 1rem;background:var(--bg-card);border:2px solid var(--border);border-radius:12px;color:var(--text);font-family:var(--font-body);font-size:1rem;outline:none;transition:border-color .2s,box-shadow .2s}
  .profile-page .search-input:focus{border-color:#06d6a0;box-shadow:0 0 0 4px rgba(6,214,160,.15),0 0 20px rgba(6,214,160,.1)}
  .profile-page .search-input::placeholder{color:var(--text-dim);opacity:.6}
  .profile-page .search-btn{font-family:var(--font-display);font-size:.95rem;font-weight:700;padding:.9rem 1.5rem;background:#06d6a0;color:#0a0e1a;border:none;border-radius:12px;cursor:pointer;transition:all .2s;white-space:nowrap}
  .profile-page .search-btn:hover{background:#05c493;box-shadow:0 0 20px rgba(6,214,160,.3)}
  .profile-page .search-btn:disabled{opacity:.5;cursor:not-allowed}
  .profile-page .search-error{text-align:center;color:#ff6b6b;font-size:.85rem;margin-top:.75rem;display:none}

  /* Loader */
  .profile-page .loader{display:none;flex-direction:column;align-items:center;gap:.75rem;padding:2.5rem 0;color:var(--text-dim);font-size:.9rem}
  .profile-page .spinner{width:36px;height:36px;border:3px solid var(--border);border-top-color:#06d6a0;border-radius:50%;animation:spin .8s linear infinite}
  @keyframes spin{to{transform:rotate(360deg)}}

  /* Result card */
  .profile-page .result{display:none;background:#111827;border:1px solid var(--border);border-radius:16px;padding:1.5rem;margin-bottom:2.5rem;animation:fadeIn .3s ease}
  @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

  .profile-page .result__header{display:flex;align-items:flex-start;gap:1.25rem;margin-bottom:1rem}
  @media(max-width:480px){.profile-page .result__header{flex-direction:column;align-items:center;text-align:center}}

  .profile-page .result__avatar{width:120px;height:120px;border-radius:50%;border:3px solid #06d6a0;object-fit:cover;flex-shrink:0;background:#1a2236}
  @media(min-width:640px){.profile-page .result__avatar{width:150px;height:150px}}

  .profile-page .result__info{flex:1;min-width:0}
  .profile-page .result__names{margin-bottom:.25rem}
  .profile-page .result__display{display:block;font-family:var(--font-display);font-size:1.35rem;font-weight:700;line-height:1.2}
  .profile-page .result__user{display:block;font-size:.9rem;color:var(--text-dim);margin-bottom:.15rem}
  .profile-page .result__uid{display:block;font-family:var(--font-display);font-size:.75rem;font-weight:700;color:#06d6a0;margin-bottom:.5rem}

  .profile-page .result__badges{display:flex;flex-wrap:wrap;gap:.4rem}
  .profile-page .badge{font-family:var(--font-display);font-size:.65rem;font-weight:700;padding:.25rem .65rem;border-radius:9999px;white-space:nowrap;display:inline-flex;align-items:center}
  .profile-page .badge--age{background:rgba(6,214,160,.12);color:#06d6a0;border:1px solid rgba(6,214,160,.25)}
  .profile-page .badge--verified{background:rgba(96,165,250,.12);color:#60a5fa;border:1px solid rgba(96,165,250,.25);display:none}
  .profile-page .badge--banned{background:rgba(255,107,107,.12);color:#ff6b6b;border:1px solid rgba(255,107,107,.25);display:none}

  .profile-page .result__bio{color:var(--text-dim);font-size:.88rem;line-height:1.6;padding:1rem;background:rgba(255,255,255,.03);border:1px solid var(--border);border-radius:10px;margin-bottom:1.25rem;white-space:pre-line;word-break:break-word}

  /* Stats */
  .profile-page .result__stats{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem;margin-bottom:1.25rem}
  .profile-page .stat-box{text-align:center;background:rgba(255,255,255,.03);border:1px solid var(--border);border-radius:10px;padding:.75rem .5rem}
  .profile-page .stat-box__val{display:block;font-family:var(--font-display);font-size:1.15rem;font-weight:700;color:#06d6a0}
  .profile-page .stat-box__label{display:block;font-size:.72rem;color:var(--text-dim);margin-top:.15rem}

  .profile-page .result__meta{font-size:.8rem;color:var(--text-dim);margin-bottom:1.25rem;text-align:center}
  .profile-page .meta-item{display:inline-flex;align-items:center;gap:.3rem}

  .profile-page .result__cta{display:block;width:100%;text-align:center;font-family:var(--font-display);font-size:.95rem;font-weight:700;padding:.85rem;background:#06d6a0;color:#0a0e1a;border-radius:10px;text-decoration:none;transition:all .2s}
  .profile-page .result__cta:hover{background:#05c493;box-shadow:0 0 20px rgba(6,214,160,.3)}

  /* SEO */
  .profile-page .seo{margin-bottom:2rem}
  .profile-page .seo__h2{font-family:var(--font-display);font-size:1.1rem;font-weight:700;margin-bottom:.75rem;padding-left:.85rem;border-left:3px solid #06d6a0}
  .profile-page .seo p{color:var(--text-dim);font-size:.92rem;line-height:1.7;margin-bottom:.75rem}
  .profile-page .seo strong{color:var(--text)}

  /* Info grid */
  .profile-page .info-grid{display:grid;grid-template-columns:1fr;gap:.65rem;margin-top:.75rem}
  @media(min-width:640px){.profile-page .info-grid{grid-template-columns:1fr 1fr}}
  .profile-page .info-item{display:flex;gap:.75rem;background:var(--bg-card);border:1px solid var(--border);border-radius:10px;padding:.85rem}
  .profile-page .info-item__icon{font-size:1.3rem;flex-shrink:0;margin-top:.1rem}
  .profile-page .info-item strong{display:block;font-size:.85rem;color:var(--text);margin-bottom:.2rem}
  .profile-page .info-item p{font-size:.78rem;color:var(--text-dim);line-height:1.5;margin:0}
</style>
