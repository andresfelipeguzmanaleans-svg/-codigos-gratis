---
import Layout from '../../../layouts/Layout.astro';
import Header from '../../../components/Header.astro';
import Footer from '../../../components/Footer.astro';

const title = 'IDs de M√∫sica para Roblox (2026) ‚Äî 41,000+ Canciones y Sonidos';
const description = 'Encuentra IDs de m√∫sica para Roblox actualizados en 2026. M√°s de 41,000 canciones con buscador por t√≠tulo, artista o g√©nero. Copia el ID y √∫salo en Brookhaven, Royale High y m√°s.';

/* ‚îÄ‚îÄ genre config ‚îÄ‚îÄ */
const GENRES = [
  { slug: 'pop', label: 'Pop', color: '#ff6b9d' },
  { slug: 'hip-hop', label: 'Hip-Hop', color: '#c084fc' },
  { slug: 'dance', label: 'Dance', color: '#22d3ee' },
  { slug: 'rock', label: 'Rock', color: '#ff6b6b' },
  { slug: 'jazz', label: 'Jazz', color: '#fbbf24' },
  { slug: 'electronic', label: 'Electronic', color: '#06d6a0' },
  { slug: 'country', label: 'Country', color: '#f97316' },
  { slug: 'classical', label: 'Classical', color: '#a78bfa' },
];

const GENRE_COLOR: Record<string, string> = Object.fromEntries(GENRES.map(g => [g.slug, g.color]));

/* ‚îÄ‚îÄ load data at build time ‚îÄ‚îÄ */
const allSongs: Array<{title:string;artist:string;id:string;genre:string;thumbnail?:string;robloxUrl?:string;duration?:number;album?:string}> =
  (await import('../../../../data/music-ids.json', { with: { type: 'json' } })).default.songs;

const genreCounts: Record<string, number> = {};
for (const s of allSongs) {
  if (s.genre) genreCounts[s.genre] = (genreCounts[s.genre] || 0) + 1;
}

const first100 = allSongs.slice(0, 100);
const totalCount = allSongs.length.toLocaleString('es-ES');

function gc(genre: string) {
  return GENRE_COLOR[genre] || '#8892a4';
}

function fmtGenre(g: string) {
  if (!g) return '';
  return g.replace(/-/g, ' ').replace(/\b\w/g, c => c.toUpperCase());
}

function fmtDuration(sec: number) {
  const m = Math.floor(sec / 60);
  const s = sec % 60;
  return `${m}:${String(s).padStart(2, '0')}`;
}

const withThumb = allSongs.filter(s => s.thumbnail).length;
const uniqueGenres = new Set(allSongs.filter(s => s.genre).map(s => s.genre)).size;

/* ‚îÄ‚îÄ FAQ schema ‚îÄ‚îÄ */
const faqEntries = [
  { q: '¬øQu√© son los IDs de m√∫sica en Roblox?', a: 'Los IDs de m√∫sica en Roblox son c√≥digos num√©ricos √∫nicos que identifican cada archivo de audio en la biblioteca de Roblox. Cada canci√≥n o audio subido tiene un ID √∫nico que puedes usar para reproducir m√∫sica en juegos compatibles como Brookhaven, Royale High y Boombox Island.' },
  { q: '¬øC√≥mo usar IDs de m√∫sica en Roblox?', a: '1. Busca la canci√≥n en nuestra tabla. 2. Copia el ID con el bot√≥n Copiar. 3. Abre un juego compatible (Brookhaven, etc.). 4. Busca el Boombox o radio. 5. Pega el ID y dale play.' },
  { q: '¬øPor qu√© no funciona un ID de m√∫sica?', a: 'El audio pudo ser eliminado por violar normas de Roblox, el creador lo hizo privado, el juego solo acepta audios verificados, o el ID es incorrecto. Prueba con otro ID de la misma canci√≥n.' },
  { q: '¬øQu√© juegos de Roblox permiten usar IDs de m√∫sica?', a: 'Los juegos m√°s populares con soporte de m√∫sica son Brookhaven RP, Royale High, Catalog Heaven, Boombox Island, Da Hood, Bloxburg y cualquier experiencia que incluya un Boombox o radio interactivo.' },
];
const faqSchema = { '@context': 'https://schema.org', '@type': 'FAQPage', mainEntity: faqEntries.map(e => ({ '@type': 'Question', name: e.q, acceptedAnswer: { '@type': 'Answer', text: e.a } })) };
---

<Layout title={title} description={description}>
  <script slot="head" type="application/ld+json" set:html={JSON.stringify(faqSchema)} />
  <Header />

  <main class="main">
    <div class="page-wrap">

      <!-- Breadcrumbs -->
      <nav class="breadcrumbs">
        <a href="/">Inicio</a> <span class="sep">‚Ä∫</span>
        <span>Herramientas</span> <span class="sep">‚Ä∫</span>
        <span>IDs de M√∫sica Roblox</span>
      </nav>

      <!-- Hero -->
      <div class="hero">
        <h1 class="hero__title">IDs de M√∫sica para Roblox <span class="hero__year">(2026)</span><br/><span class="hero__sub">41,000+ Canciones</span></h1>
        <div class="search-box">
          <span class="search-box__icon">üîç</span>
          <input type="text" id="q" class="search-box__input" placeholder="Buscar canci√≥n o artista..." autocomplete="off" />
        </div>
        <p class="hero__stat">{totalCount} canciones ¬∑ {withThumb.toLocaleString('es-ES')} con portada ¬∑ {uniqueGenres}+ g√©neros</p>
      </div>

      <!-- Genre pills -->
      <div class="pills" id="pills">
        <button class="pill pill--active" data-genre="">Todos <span class="pill__count">({totalCount})</span></button>
        {GENRES.map(g => (
          <a href={`/herramientas/ids-musica-roblox/${g.slug}/`} class="pill" data-genre={g.slug} style={`--gc:${g.color}`}>
            {g.label} <span class="pill__count">({(genreCounts[g.slug] || 0).toLocaleString('es-ES')})</span>
          </a>
        ))}
      </div>

      <!-- Results info -->
      <p class="info" id="info">{totalCount} canciones ‚Äî todos los g√©neros</p>

      <!-- Song cards (first 100 SSR) -->
      <div class="grid" id="grid">
        {first100.map(s => (
          <div class="card" data-id={s.id}>
            <div class="card__thumb" style={s.thumbnail ? '' : 'background:#1a2236'}>
              {s.thumbnail
                ? <img src={s.thumbnail} alt={s.title} width="60" height="60" loading="lazy" />
                : <span class="card__note">üéµ</span>}
            </div>
            <div class="card__body">
              <span class="card__title">{s.title}</span>
              <span class="card__artist">{s.artist}</span>
              {s.album && <span class="card__album">{s.album}</span>}
              <div class="card__row">
                {s.genre && <span class="card__genre" style={`color:${gc(s.genre)};border-color:${gc(s.genre)}33`}>{fmtGenre(s.genre)}</span>}
                {s.duration && <span class="card__dur">{fmtDuration(s.duration)}</span>}
                <code class="card__id">{s.id}</code>
              </div>
            </div>
            <div class="card__actions">
              <button class="cbtn" data-id={s.id}>Copiar</button>
              {s.robloxUrl && <a class="rlink" href={s.robloxUrl} target="_blank" rel="noopener">Abrir en Roblox ‚Üó</a>}
            </div>
          </div>
        ))}
      </div>

      <!-- Load more -->
      <div class="more-wrap" id="more-wrap">
        <button class="more-btn" id="more-btn">Cargar m√°s canciones</button>
      </div>

      <!-- SEO content -->
      <section class="seo">
        <h2 class="seo__h2">¬øQu√© son los IDs de m√∫sica en Roblox?</h2>
        <p>Los IDs de m√∫sica en Roblox son c√≥digos num√©ricos √∫nicos que identifican cada archivo de audio en la biblioteca de Roblox. Cada canci√≥n, efecto de sonido o audio subido a la plataforma tiene un ID √∫nico (tambi√©n llamado Asset ID o Sound ID) que puedes usar para reproducir m√∫sica dentro de los juegos.</p>
        <p>Muchos juegos populares como <strong>Brookhaven RP</strong>, <strong>Royale High</strong>, <strong>Boombox Island</strong> y <strong>Da Hood</strong> incluyen Boomboxes o radios donde puedes introducir un ID de m√∫sica para escuchar tus canciones favoritas. En nuestra base de datos encontrar√°s m√°s de <strong>41,000 IDs de m√∫sica</strong> actualizados y verificados de todos los g√©neros.</p>
      </section>

      <section class="seo">
        <h2 class="seo__h2">¬øC√≥mo usar IDs de m√∫sica en Roblox?</h2>
        <div class="steps-box">
          <ol class="steps">
            <li>Busca la canci√≥n que quieras usando el buscador o los filtros de g√©nero</li>
            <li>Haz clic en el bot√≥n <strong>Copiar</strong> junto al ID de la canci√≥n</li>
            <li>Abre el juego de Roblox que soporte m√∫sica (Brookhaven, Royale High, etc.)</li>
            <li>Busca el Boombox o la radio dentro del juego y √°brelo</li>
            <li>Pega el ID en el campo de entrada del Boombox y dale play</li>
          </ol>
        </div>
      </section>

      <section class="seo">
        <h2 class="seo__h2">¬øPor qu√© no funciona un ID de m√∫sica?</h2>
        <div class="steps-box">
          <ul class="trouble">
            <li><strong>Audio eliminado:</strong> Roblox elimina audios que violan sus normas de comunidad o derechos de autor. Desde 2022 las pol√≠ticas de audio son m√°s estrictas.</li>
            <li><strong>Audio privado:</strong> El creador pudo configurarlo como privado, impidiendo su uso por otros.</li>
            <li><strong>Juego incompatible:</strong> Algunos juegos solo aceptan audios verificados. Verifica que tu juego soporte IDs personalizados.</li>
            <li><strong>ID incorrecto:</strong> Copia el n√∫mero completo sin espacios ni caracteres extra.</li>
          </ul>
        </div>
      </section>

      <section class="seo">
        <h2 class="seo__h2">Juegos compatibles con m√∫sica en Roblox</h2>
        <p>Estos son los juegos m√°s populares de Roblox donde puedes usar IDs de m√∫sica:</p>
        <div class="steps-box">
          <ul class="trouble">
            <li><strong>Brookhaven RP:</strong> El juego de roleplay m√°s popular de Roblox. Usa el Boombox del inventario para reproducir cualquier ID de m√∫sica mientras juegas.</li>
            <li><strong>Royale High:</strong> Reproduce m√∫sica en tu apartamento o dorm room introduciendo IDs en el sistema de radio del juego.</li>
            <li><strong>Catalog Heaven:</strong> Prueba cualquier item del cat√°logo de Roblox, incluyendo Boomboxes que aceptan IDs de m√∫sica personalizados.</li>
            <li><strong>Boombox Island:</strong> Un juego dise√±ado espec√≠ficamente para reproducir m√∫sica. Introduce cualquier ID y comparte con otros jugadores.</li>
            <li><strong>Da Hood:</strong> Usa el Boombox para reproducir tu m√∫sica mientras exploras el mapa y juegas con amigos.</li>
          </ul>
        </div>
      </section>

      <!-- Genre links for SEO -->
      <section class="seo">
        <h2 class="seo__h2">Explorar por g√©nero</h2>
        <div class="genre-links">
          {GENRES.map(g => (
            <a href={`/herramientas/ids-musica-roblox/${g.slug}/`} class="genre-link" style={`--gc:${g.color}`}>
              {g.label} <span>({(genreCounts[g.slug] || 0).toLocaleString('es-ES')})</span>
            </a>
          ))}
        </div>
      </section>

    </div>
  </main>

  <Footer />
</Layout>

<script>
  const PAGE = 50;
  const GENRE_COLOR: Record<string,string> = {pop:'#ff6b9d','hip-hop':'#c084fc',dance:'#22d3ee',rock:'#ff6b6b',jazz:'#fbbf24',electronic:'#06d6a0',country:'#f97316',classical:'#a78bfa'};

  type Song = {title:string;artist:string;id:string;genre:string;thumbnail?:string;robloxUrl?:string;duration?:number;album?:string};
  let all: Song[] = [];
  let filtered: Song[] = [];
  let shown = 0;
  let genre = '';
  let query = '';
  let loaded = false;
  let timer: ReturnType<typeof setTimeout>;

  const grid = document.getElementById('grid')!;
  const info = document.getElementById('info')!;
  const moreWrap = document.getElementById('more-wrap')!;
  const moreBtn = document.getElementById('more-btn')!;
  const input = document.getElementById('q') as HTMLInputElement;
  const pillBtns = document.querySelectorAll<HTMLElement>('#pills .pill');

  function gc(g:string){return GENRE_COLOR[g]||'#8892a4'}
  function fg(g:string){return g?g.replace(/-/g,' ').replace(/\b\w/g,c=>c.toUpperCase()):''}
  function esc(s:string){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;')}
  function fmtDur(sec:number){const m=Math.floor(sec/60);const s=sec%60;return `${m}:${String(s).padStart(2,'0')}`}

  function cardHTML(s:Song){
    const thumb = s.thumbnail
      ? `<img src="${esc(s.thumbnail)}" alt="${esc(s.title)}" width="60" height="60" loading="lazy"/>`
      : `<span class="card__note">üéµ</span>`;
    const thumbStyle = s.thumbnail ? '' : 'background:#1a2236';
    const albumLine = s.album ? `<span class="card__album">${esc(s.album)}</span>` : '';
    const genreBadge = s.genre ? `<span class="card__genre" style="color:${gc(s.genre)};border-color:${gc(s.genre)}33">${fg(s.genre)}</span>` : '';
    const durBadge = s.duration ? `<span class="card__dur">${fmtDur(s.duration)}</span>` : '';
    const rlink = s.robloxUrl ? `<a class="rlink" href="${esc(s.robloxUrl)}" target="_blank" rel="noopener">Abrir en Roblox ‚Üó</a>` : '';
    return `<div class="card" data-id="${s.id}"><div class="card__thumb" style="${thumbStyle}">${thumb}</div><div class="card__body"><span class="card__title">${esc(s.title)}</span><span class="card__artist">${esc(s.artist)}</span>${albumLine}<div class="card__row">${genreBadge}${durBadge}<code class="card__id">${s.id}</code></div></div><div class="card__actions"><button class="cbtn" data-id="${s.id}">Copiar</button>${rlink}</div></div>`;
  }

  function render(){
    const batch = filtered.slice(shown, shown + PAGE);
    const html = batch.map(cardHTML).join('');
    if(shown === 0) grid.innerHTML = html;
    else grid.insertAdjacentHTML('beforeend', html);
    shown += batch.length;
    moreWrap.style.display = shown < filtered.length ? '' : 'none';
    const t = filtered.length.toLocaleString('es-ES');
    const label = genre ? fg(genre) : 'todos los g√©neros';
    info.textContent = query ? `${t} resultados para "${query}" en ${label}` : `${t} canciones ‚Äî ${label}`;
  }

  function apply(){
    const q = query.toLowerCase().trim();
    filtered = all.filter(s => {
      if(genre && s.genre !== genre) return false;
      if(q) return s.title.toLowerCase().includes(q) || s.artist.toLowerCase().includes(q);
      return true;
    });
    shown = 0;
    render();
  }

  // Search
  input.addEventListener('input', ()=>{
    clearTimeout(timer);
    timer = setTimeout(()=>{
      query = input.value;
      if(!loaded) return;
      apply();
    }, 250);
  });

  // Genre pills (only "Todos" acts as button, others are links)
  pillBtns.forEach(btn=>{
    if(!btn.dataset.genre && btn.tagName === 'BUTTON'){
      btn.addEventListener('click', ()=>{
        pillBtns.forEach(b=>b.classList.remove('pill--active'));
        btn.classList.add('pill--active');
        genre = '';
        if(loaded) apply();
      });
    }
  });

  // Load more
  moreBtn.addEventListener('click', ()=>{ if(loaded) render(); });

  // Copy (event delegation)
  grid.addEventListener('click', e=>{
    const btn = (e.target as HTMLElement).closest<HTMLButtonElement>('.cbtn');
    if(!btn) return;
    navigator.clipboard.writeText(btn.dataset.id!).then(()=>{
      btn.textContent = '‚úì Copiado';
      btn.classList.add('cbtn--ok');
      setTimeout(()=>{ btn.textContent = 'Copiar'; btn.classList.remove('cbtn--ok'); }, 2000);
    });
  });

  // Load JSON
  fetch('/data/music-ids.json')
    .then(r=>r.json())
    .then((d:{songs:Song[]})=>{
      all = d.songs;
      filtered = all;
      loaded = true;
      // Show load more for SSR songs
      shown = 100;
      moreWrap.style.display = filtered.length > 100 ? '' : 'none';
    });
</script>

<style>
  .main{padding:0 0 3rem}
  .page-wrap{width:100%;max-width:960px;margin:0 auto;padding:0 1rem}

  /* Breadcrumbs */
  .breadcrumbs{font-size:.82rem;color:var(--text-dim);padding:1.25rem 0 0}
  .breadcrumbs a{color:var(--text-dim);text-decoration:none;transition:color .2s}
  .breadcrumbs a:hover{color:var(--accent)}
  .sep{margin:0 .35rem;opacity:.5}

  /* Hero */
  .hero{text-align:center;padding:2rem 0 1.25rem}
  .hero__title{font-family:var(--font-display);font-size:1.5rem;font-weight:700;line-height:1.25;margin-bottom:1.25rem}
  .hero__year{color:var(--accent)}
  .hero__sub{font-size:1.15rem;color:var(--text-dim);font-weight:400}
  @media(min-width:640px){.hero__title{font-size:2rem}.hero__sub{font-size:1.3rem}}

  .search-box{position:relative;max-width:560px;margin:0 auto 1rem}
  .search-box__icon{position:absolute;left:1rem;top:50%;transform:translateY(-50%);font-size:1.1rem;pointer-events:none}
  .search-box__input{width:100%;padding:.9rem 1rem .9rem 2.8rem;background:var(--bg-card);border:2px solid var(--border);border-radius:12px;color:var(--text);font-family:var(--font-body);font-size:1rem;outline:none;transition:border-color .2s,box-shadow .2s}
  .search-box__input:focus{border-color:#06d6a0;box-shadow:0 0 0 4px rgba(6,214,160,.15),0 0 20px rgba(6,214,160,.1)}
  .search-box__input::placeholder{color:var(--text-dim);opacity:.6}

  .hero__stat{font-size:.85rem;color:var(--text-dim)}
  .hero__num{font-family:var(--font-display);font-weight:700;color:var(--accent)}

  /* Pills */
  .pills{display:flex;flex-wrap:wrap;gap:.4rem;margin-bottom:.75rem;justify-content:center}
  .pill{font-family:var(--font-display);font-size:.72rem;font-weight:700;padding:.4rem .8rem;background:transparent;color:var(--text-dim);border:1.5px solid var(--border);border-radius:9999px;cursor:pointer;transition:all .2s;text-decoration:none}
  .pill:hover{border-color:var(--gc,var(--accent));color:var(--gc,var(--accent))}
  .pill--active{background:#06d6a0;border-color:#06d6a0;color:#0a0e1a}
  .pill__count{opacity:.65;font-weight:400}

  /* Info */
  .info{font-size:.8rem;color:var(--text-dim);margin-bottom:.75rem;text-align:center}

  /* Grid */
  .grid{display:grid;grid-template-columns:1fr;gap:.65rem;margin-bottom:1.25rem}
  @media(min-width:640px){.grid{grid-template-columns:1fr 1fr}}

  /* Card */
  .card{display:flex;align-items:flex-start;gap:.75rem;background:var(--bg-card);border:1px solid var(--border);border-radius:12px;padding:.75rem;transition:transform .2s,box-shadow .2s,border-color .2s;cursor:default}
  .card:hover{transform:scale(1.02);box-shadow:0 4px 20px rgba(6,214,160,.12);border-color:rgba(6,214,160,.25)}

  .card__thumb{width:60px;height:60px;border-radius:8px;overflow:hidden;flex-shrink:0;display:flex;align-items:center;justify-content:center;background:var(--bg-deep)}
  .card__thumb img{width:100%;height:100%;object-fit:cover}
  .card__note{font-size:1.5rem}

  .card__body{flex:1;min-width:0}
  .card__title{display:block;font-weight:700;font-size:.88rem;line-height:1.25;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .card__artist{display:block;font-size:.78rem;color:var(--text-dim);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:.2rem}
  .card__album{display:block;font-size:.7rem;color:var(--text-dim);opacity:.65;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:.2rem}
  .card__row{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}
  .card__dur{font-family:var(--font-display);font-size:.62rem;font-weight:700;color:var(--text-dim);padding:.12rem .4rem;background:rgba(255,255,255,.06);border-radius:6px;white-space:nowrap}
  .card__genre{font-family:var(--font-display);font-size:.62rem;font-weight:700;padding:.15rem .5rem;border:1px solid;border-radius:9999px;white-space:nowrap}
  .card__id{font-family:var(--font-display);font-size:.72rem;font-weight:700;color:#06d6a0}

  .card__actions{display:flex;flex-direction:column;align-items:flex-end;gap:.3rem;flex-shrink:0}
  .cbtn{font-family:var(--font-display);font-size:.68rem;font-weight:700;padding:.3rem .7rem;background:transparent;color:var(--accent);border:1.5px solid var(--accent);border-radius:8px;cursor:pointer;transition:all .2s;white-space:nowrap}
  .cbtn:hover,.cbtn--ok{background:#06d6a0;color:#0a0e1a;border-color:#06d6a0}
  .rlink{font-size:.62rem;color:var(--text-dim);text-decoration:none;transition:color .2s;white-space:nowrap}
  .rlink:hover{color:var(--accent)}

  /* More */
  .more-wrap{text-align:center;margin-bottom:2.5rem}
  .more-btn{font-family:var(--font-display);font-size:.88rem;font-weight:700;padding:.75rem 2.5rem;background:transparent;color:var(--accent);border:2px solid var(--accent);border-radius:10px;cursor:pointer;transition:all .2s}
  .more-btn:hover{background:#06d6a0;color:#0a0e1a}

  /* SEO */
  .seo{margin-bottom:2rem}
  .seo__h2{font-family:var(--font-display);font-size:1.1rem;font-weight:700;margin-bottom:.75rem;padding-left:.85rem;border-left:3px solid #06d6a0}
  .seo p{color:var(--text-dim);font-size:.92rem;line-height:1.7;margin-bottom:.75rem}
  .seo strong{color:var(--text)}

  .steps-box{background:var(--bg-card);border:1px solid var(--border);border-radius:12px;padding:1rem 1.15rem;margin-bottom:.75rem}
  .steps{list-style:none;counter-reset:step;display:flex;flex-direction:column;gap:.55rem;padding:0;margin:0}
  .steps li{counter-increment:step;display:flex;align-items:baseline;gap:.6rem;font-size:.88rem;line-height:1.5;color:var(--text-dim)}
  .steps li::before{content:counter(step);font-family:var(--font-display);font-weight:700;font-size:.75rem;color:#06d6a0;background:rgba(6,214,160,.1);min-width:1.5rem;height:1.5rem;display:flex;align-items:center;justify-content:center;border-radius:50%;flex-shrink:0}

  .trouble{list-style:none;display:flex;flex-direction:column;gap:.55rem;padding:0;margin:0}
  .trouble li{font-size:.88rem;line-height:1.5;color:var(--text-dim);padding-left:.85rem;border-left:2px solid var(--border)}
  .trouble li strong{color:var(--text)}

  .genre-links{display:flex;flex-wrap:wrap;gap:.5rem}
  .genre-link{font-family:var(--font-display);font-size:.82rem;font-weight:700;padding:.5rem 1rem;background:var(--bg-card);border:1px solid var(--border);border-radius:10px;color:var(--gc);text-decoration:none;transition:all .2s}
  .genre-link:hover{border-color:var(--gc);box-shadow:0 0 12px color-mix(in srgb,var(--gc) 25%,transparent)}
  .genre-link span{opacity:.6;font-weight:400}
</style>
